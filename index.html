<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Passeport Secret — Interactive</title>
  <!-- Tailwind (быстрая CDN-версия для демо) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React 18 UMD -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- Babel (позволяет писать JSX прямо в браузере; для простого хоста это ок для демо) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    /* Немного базовой стилизации iframe-страницы */
    
    html,
    body,
    #root {
      height: 100%;
    }
    
    body {
      margin: 0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: #f8fafc;
    }
  </style>
</head>

<body>
  <div id="root" class="min-h-screen flex items-center justify-center p-6"></div>
  <!-- React-компонент: PasseportSecret -->
  <script type="text/babel"> const { useState } = React; function PasseportSecret() { const characters = [ "un vampire", "une star française", "un robot timide", "un fantôme sympa", "un chat très sérieux", "un boulanger célèbre", "une extraterrestre curieuse", "un pirate malchanceux", "une princesse moderne", "un professeur fou" ]; const objects = [ "un ordinateur magique", "trois serpents", "une baguette cassée", "une valise très lourde", "un mini-hélicoptère", "un secret dangereux", "une lampe ancienne", "deux clés mystérieuses", "un livre qui parle", "une montre bizarre" ]; const [character, setCharacter] = useState(null); const [items, setItems] = useState([]); const [mode, setMode] = useState('player'); // 'player' or 'teacher' function generate() { const randomCharacter = characters[Math.floor(Math.random() * characters.length)]; const shuffled = [...objects].sort(() => 0.5 - Math.random()); const n = 2 + Math.floor(Math.random() * 2); // 2 или 3 предмета const selectedObjects = shuffled.slice(0, n); setCharacter(randomCharacter); setItems(selectedObjects); } function copyCardText() { const text = `Je suis ${character}. J'ai ${items.join(', ')}.`; navigator.clipboard?.writeText(text).then(()=> { alert('Texte скопирован в буфер обмена:\n' + text); }, ()=> { alert('Не удалось скопировать в буфер обмена, пожалуйста, скопируй вручную:\n' + text); }) } return (
    <div className="w-full max-w-2xl">
      <div className="bg-white p-6 rounded-2xl shadow-lg">
        <div className="flex items-center justify-between mb-4">
          <div>
            <h1 className="text-2xl font-extrabold">Passeport Secret</h1>
            <p className="text-sm text-gray-500">Clique pour générer une identité et des objets — pratique les verbes <em>être</em> et <em>avoir</em>.</p>
          </div>
          <div className="flex gap-2">
            <button onClick={()=> setMode(mode === 'player' ? 'teacher' : 'player')} className="px-3 py-2 text-sm rounded-lg border hover:bg-gray-50" > Mode: {mode === 'player' ? 'Player' : 'Teacher'} </button>
            <button onClick={generate} className="px-4 py-2 rounded-2xl bg-blue-600 text-white font-semibold hover:bg-blue-700"> Générer </button>
          </div>
        </div>
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div className="p-4 border rounded-lg">
            <h2 className="text-sm text-gray-600 mb-2">Tu es…</h2>
            <div className="min-h-[56px] flex items-center">
              <p className="text-lg font-medium">{character ?? '— appuie sur "Générer" —'}</p>
            </div>
          </div>
          <div className="p-4 border rounded-lg">
            <h2 className="text-sm text-gray-600 mb-2">Tu as…</h2>
            <ul className="min-h-[56px] list-disc ml-5"> {items.length === 0 ?
              <li className="text-gray-500">— appuie sur "Générer" —</li> : items.map((it,i)=>
              <li key={i}>{it}</li>)} </ul>
          </div>
          <div className="md:col-span-2 flex gap-3 mt-2">
            <button onClick={copyCardText} className="px-4 py-2 rounded-lg border hover:bg-gray-50" disabled={!character}> Copier phrase (Je suis... / J'ai...) </button>
            <button onClick={()=> { // quick sample phrases for classroom prompt if (!character) return alert('Génère d’abord une carte.'); const phrase1 = `Je suis ${character}.`; const phrase2 = items.length ? `J'ai ${items[0]}.` : `Je n'ai rien pour l'instant.`; alert('Exemples:\n' + phrase1 + '\n' + phrase2); }} className="px-4 py-2 rounded-lg border hover:bg-gray-50" disabled={!character} > Exemples de phrases </button>
            <button onClick={()=> { // teacher mode: reveal only character (hide items) if (mode === 'teacher') { setMode('player'); alert('Mode Teacher désactivé.'); } else { setMode('teacher'); alert('Mode Teacher activé — les items sont cachés aux élèves.'); } }} className="ml-auto px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700" > Toggle Teacher Mode </button>
          </div>
        </div>
        <div className="mt-6 grid grid-cols-2 gap-4">
          <div className="p-4 bg-gray-50 rounded-lg">
            <h3 className="text-sm text-gray-600">Règles rapides</h3>
            <ol className="text-sm ml-4 list-decimal">
              <li>Un joueur génère sa carte en silence.</li>
              <li>Il doit poser uniquement des questions avec <em>être</em> pour deviner son personnage (oui/non).</li>
              <li>Après deviné, il présente: <em>Je suis... et j'ai...</em></li>
            </ol>
          </div>
          <div className="p-4 bg-gray-50 rounded-lg">
            <h3 className="text-sm text-gray-600">Astuce</h3>
            <p className="text-sm">En mode professeur, cache les objets pour laisser deviner puis révèle-les pour la production orale.</p>
          </div>
        </div>
      </div>
    </div> ); } // Mount const root = ReactDOM.createRoot(document.getElementById('root')); root.render(
    <PasseportSecret />); </script>
</body>

</html>
